#Turns out there was a lot of minor errors in the 2nd version, this is the fixed version.
import random
alphabet="abcdefghijklmnopqrstuvwxyz"
shift=random.randint(1,25)
def caesar(text, shift):
   if 'decrypt' in text or 'decode' in text:
        shift=-shift
   shifted_alphabet=alphabet[shift:]+ alphabet[:shift]
   table=str.maketrans(alphabet+alphabet.upper(), shifted_alphabet+shifted_alphabet.upper())
   return text.translate(table)
response=input("What would you like to decode/encode today?")
new_text=caesar(response, shift)
if not any(x in response for x in ('decode','decrypt', 'encrypt', 'encode')):
   print("Please state what you want to do with the text.")
else:
   print(f"Your new text is {new_text}")
